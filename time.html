<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>CL MiniSpec: Time</title>
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--<link rel="shortcut icon" href="./include/fav.png">-->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Inconsolata">
    <link rel="stylesheet" href="./include/highlight-lisp.css">
    <link rel="stylesheet" href="./include/style.css">
    <meta name="description" content="">
  </head>
  <body>
    <div>

      <header>
        <div class="section-padding">
<nav id="navbar">
  <h1><a href="./index.html" class="brand">Common Lisp MiniSpec</a></h1>
  <ul>
    <li><a href="#"><span class="caret">&#x25BC;</span>Symbols</a>
      <ul>
        <li><a href="./symbol.html">Overview</a></li>
        <li><a href="./symbol.html#variables">Variable</a></li>
        <li><a href="./symbol.html#functions">Function</a></li>
        <li><a href="./symbol.html#macros">Macro</a></li>
        <li><a href="./package.html#symbols">Symbol</a></li>
        <li><a href="./package.html#packages">Package</a></li>
        <li><a href="#">System</a></li>
      </ul>
    </li>
    <li><a href="#"><span class="caret">&#x25BC;</span>Collections</a>
      <ul>
        <li><a href="./list.html">List</a></li>
        <li><a href="./list-structure.html#set-functions">Set Functions</a></li>
        <li><a href="./list-structure.html#tree-functions">Tree Functions</a></li>
        <li><a href="./list-structure.html#association-list-alist">Association List</a></li>
        <li><a href="./list-structure.html#property-list-plist">Property List</a></li>
        <li><a href="./array.html">Array</a></li>
        <li><a href="./vector.html">Vector</a></li>
        <li><a href="./string.html">String</a></li>
        <li><a href="./hash-table.html">Hash Table</a></li>
        <li><a href="./structure.html">Struct</a></li>
        <li><a href="./object-system.html">Object System</a></li>
      </ul>
    </li>
    <li><a href="./math.html">Math</a></li>
    <li><a href="#"><span class="caret">&#x25BC;</span>Iteration</a>
      <ul>
        <li><a href="./iteration.html">Iteration</a></li>
        <li><a href="./loop-iterate.html">Loop/Iterate</a></li>
      </ul>
    </li>
    <li><a href="./control.html">Control</a></li>
    <li><a href="#"><span class="caret">&#x25BC;</span>I/O</a>
      <ul>
        <li><a href="./stream.html">Stream</a></li>
        <li><a href="./read.html">Read</a></li>
        <li><a href="./print.html">Print</a></li>
        <li><a href="./print.html#format">Format</a></li>
        <li><a href="./file.html">File</a></li>
        <li><a href="./file.html#pathnames">Pathname</a></li>
      </ul>
    </li>
    <li><a href="./types.html">Types</a></li>
    <li><a href="#"><span class="caret">&#x25BC;</span>More</a>
      <ul>
        <li><a href="./comparison.html">Comparison</a></li>
        <li><a href="./composition.html">Composition</a></li>
        <li><a href="./compile.html">Compiler</a></li>
        <li><a href="./time.html">Time</a></li>
        <li><a href="./regular-expression.html">Regular Expressions</a></li>
      </ul>
    </li>
    <li><form><input type="search" placeholder="symbol"></input></form></li>
  </ul>
</nav>
        </div>
      </header>
      
      <div class="article-wrapper">
        <article>
          <div class="section-padding">
<h1 id="time">Time</h1>
<ul>
<li><a href="http://www.lispworks.com/documentation/HyperSpec/Body/25_ad.htm">HyperSpec: Time</a></li>
<li><a href="http://www.cs.cmu.edu/Groups/AI/html/cltl/clm/node232.html">CLtL2: Time Functions</a></li>
</ul>
<h3 id="get-universal-time-universal-time"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_get_un.htm">get-universal-time</a> &rArr; universal-time</h3>
<p>Returns the current universal time, which is the number of seconds that have elapsed since 00:00 of January 1, 1900 in the GMT time zone.</p>
<pre><code>(get-universal-time) ;&rArr; 3574524644</code></pre>
<h3 id="decode-universal-time-universal-time-zone-sec-min-hr-day-m-yr-day-of-week-daylight-p-zone"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_dec_un.htm">decode-universal-time</a> universal-time [zone] &rArr; sec, min, hr, day, m, yr, day-of-week, daylight-p, zone</h3>
<p>Returns the decoded time represented by the given <em>universal time</em>.</p>
<pre><code>(defconstant +months+ &#39;(1 &quot;Jan&quot; 2 &quot;Feb&quot; 3 &quot;Mar&quot; 4 &quot;Apr&quot; 5 &quot;May&quot; 6 &quot;Jun&quot;
                        7 &quot;Jul&quot; 8 &quot;Aug&quot; 9 &quot;Sep&quot; 10 &quot;Oct&quot; 11 &quot;Nov&quot; 12 &quot;Dec&quot;))
(defconstant +days+ &#39;(0 &quot;Mon&quot; 1 &quot;Tue&quot; 3 &quot;Wed&quot; 4 &quot;Thu&quot; 5 &quot;Fri&quot; 6 &quot;Sat&quot; 7 &quot;Sun&quot;))

(defun universal-time-to-rfc822 (ut)
  (multiple-value-bind (s m h d month y weekday dst-p tz) (decode-universal-time ut)
    (declare (ignore dst-p))
    (let ((day (getf +days+ weekday))
          (mon (getf +months+ month))
          (tzsign (if (minusp tz) &quot;-&quot; &quot;+&quot;)))
          (format nil &quot;~a, ~2,&#39;0d ~a ~d ~2,&#39;0d:~2,&#39;0d:~2,&#39;0d ~a~2,&#39;0d00&quot; day d mon y h m s tzsign tz))))

(universal-time-to-rfc822 (get-universal-time)) ;&rArr; &quot;Tue, 09 Apr 2013 14:04:52 +0800&quot;</code></pre>
<h3 id="get-decoded-time-sec-min-hour-day-month-year-day-of-week-daylight-p-zone"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_get_un.htm">get-decoded-time</a> &rArr; sec, min, hour, day, month, year, day-of-week, daylight-p, zone</h3>
<p>Equivalent to <code>(decode-universal-time (get-universal-time))</code>.</p>
<pre><code>(multiple-value-bind (sec min hr day m yr day-of-week dst-p tz) (get-decoded-time)
  (list sec min hr date m yr day-of-week dst-p tz)) ;&rArr; (51 31 12 9 4 2013 1 T 8)</code></pre>
<h3 id="encode-universal-time-sec-min-hr-day-m-yr-zone-universal-time"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_encode.htm">encode-universal-time</a> sec min hr day m yr [zone] &rArr; universal-time</h3>
<p>Converts from decoded time format to a universal time.</p>
<h3 id="get-internal-run-time-internal-time"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_get__1.htm">get-internal-run-time</a> &rArr; internal-time</h3>
<p>Returns as an <a href="http://www.lispworks.com/documentation/HyperSpec/Body/t_intege.htm">integer</a> the current run time in internal time units. Its precise meaning is implementation-dependant, but the intent is that the difference between two calls to this function return the amount of time expended on behalf of the executing program.</p>
<h3 id="get-internal-real-time-internal-time"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_get_in.htm">get-internal-real-time</a> &rArr; internal-time</h3>
<p>Returns as an <a href="http://www.lispworks.com/documentation/HyperSpec/Body/t_intege.htm">integer</a> the current time in internal time units, relative to an arbitrary time base. The difference between the values of two calls to this function is the amount of elapsed real time (i.e., clock time) between the two calls.</p>
<h3 id="sleep-seconds-nil"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_sleep.htm">sleep</a> seconds &rArr; nil</h3>
<p>Causes execution to cease and become dormant for approximately the <em>seconds</em> of real time indicated by seconds, whereupon execution is resumed.</p>
<pre><code>(let ((then (get-universal-time)))
  (sleep 10)
  (- (get-universal-time) then))   ;&rArr; 5 [secs elapsed]</code></pre>
<h3 id="internal-time-units-per-second"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/v_intern.htm">internal-time-units-per-second</a></h3>
<p>Constant, a positive integer. The number of internal time units in one second.</p>
          </div>
        </article>
      </div>

      <aside>
        <div class="section-padding">
          <nav>
<ul>
  <li><a href="#time" class="toc-header">Time</a></li>
  <li><a href="#get-universal-time-universal-time">get-universal-time</a></li>
  <li><a href="#decode-universal-time-universal-time-zone-sec-min-hr-day-m-yr-day-of-week-daylight-p-zone">decode-universal-time</a></li>
  <li><a href="#get-decoded-time-sec-min-hour-day-month-year-day-of-week-daylight-p-zone">get-decoded-time</a></li>
  <li><a href="#encode-universal-time-sec-min-hr-day-m-yr-zone-universal-time">encode-universal-time</a></li>
  <li><a href="#get-internal-run-time-internal-time">get-internal-run-time</a></li>
  <li><a href="#get-internal-real-time-internal-time">get-internal-real-time</a></li>
  <li><a href="#sleep-seconds-nil">sleep</a></li>
  <li><a href="#internal-time-units-per-second">internal-time-units-per-second</a></li>
</ul>
          </nav>
        </div>
      </aside>
      
      <footer><a href="http://minispec.org">Common Lisp Minispec</a> <a href="https://github.com/lamberta/minispec">&#60;https://github.com/lamberta/minispec&#62;</a></footer>
    </div>

    <script src="./include/jquery.js"></script>
    <script src="./include/typeahead.js"></script>
    <script src="./include/highlight-lisp.js"></script>
    <script src="./include/init.js"></script>
  </body>
</html>
